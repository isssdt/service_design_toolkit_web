<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html">
    <script 
        type="text/javascript" 
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTfYgSvgKe9cbMi4RxsmLGUZU5acZpZIo&amp;libraries=visualization">
    </script>     

    <h:form>
        <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5" columnClasses="label, value">
            <p:outputLabel for="journey_list" value="Journey" />
            <p:selectOneMenu id="journey_list" style="width: 30%" value="#{dashboardController.dashboardModel.journeyName}">
                <p:ajax listener="#{dashboardController.onJourneyChange()}" update="field_researcher_location_map, lineModel" />
                <f:selectItem itemLabel="Select Journey" itemValue="" noSelectionOption="true" />                         
                <f:selectItems value="#{dashboardController.dashboardView.journeyNameMap}"/>
            </p:selectOneMenu>
        </h:panelGrid>
        
        <p:panel id="field_researcher_location" header="Field Researcher Location" style="width: 50%">
            <p:gmap id="field_researcher_location_map" widgetVar="field_researcher_location_map" 
                    center="#{dashboardController.dashboardView.centerGeoMap}" zoom="13" type="ROADMAP"
                    model="#{dashboardController.dashboardView.field_researcher_location_map}" style="width:100%; height:300px"/>  

        </p:panel>                             
        <p:panel  id="integrated_view" header="Integrated View" style="width: 50%">            
            <p:chart  widgetVar="lineModel" id="lineModel" type="line" model="#{dashboardController.dashboardView.lineModel}"
                      style="width:100%; height:300px" />
        </p:panel>                
    </h:form>  
</ui:composition>
